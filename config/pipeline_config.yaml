# RComPlEx Pipeline Configuration
# =============================================================================

# Input data files
data:
  vst_file: "vst_hog.RDS"
  n1_file: "N1_clean.RDS"
  output_dir: "rcomplex_data"

# Species classification
# Note: life_cycle annotation is already in the data, this is for validation
# Removed: Oloptum miliaceum, Melica nutans, Nassella pubiflora, Poa annua, Poa supina
species:
  annual:
    - "Brachypodium distachyon"
    - "Hordeum vulgare"
    - "Vulpia bromoides"
    - "Briza maxima"
  perennial:
    - "Brachypodium sylvaticum"
    - "Hordeum jubatum"
    - "Briza media"
    - "Festuca pratensis"

# Tissue-specific analysis
tissues:
  - "root"
  - "leaf"

# RComPlEx co-expression parameters
rcomplex:
  cor_method: "spearman"          # Correlation method: spearman or pearson
  cor_sign: ""                     # Use "abs" for absolute correlation, "" for signed
  norm_method: "MR"                # Normalization: MR (Mutual Rank) or CLR (Context Likelihood)
  density_thr: 0.03                # Network density threshold (top 3% of correlations)
  p_threshold: 0.05                # FDR-corrected p-value threshold for conservation
  min_genes: 1                     # Minimum genes per species in HOG
  max_genes: .inf                  # Maximum genes per species in HOG (use .inf for no limit)

# Clique detection parameters
cliques:
  min_clique_size: 2               # Minimum clique size to report
  parallel_workers: 12             # Number of parallel workers for clique detection

# SLURM resource allocation
resources:
  prepare:
    cpus: 4
    memory: "32GB"
    time: "1:00:00"
  rcomplex:
    cpus: 24
    memory: "200GB"
    time: "7-00:00:00"
    max_array_concurrent: 20       # Maximum concurrent array jobs
  cliques:
    cpus: 12
    memory: "220GB"
    time: "2-00:00:00"
